import{_ as D,r as m,c as R,s as d,G as f,b as a,d as E,k as N,m as n,w as s,h as l,t as i,u as v,W as V,au as B,K as M,x as T}from"./index-243f2949.js";const j={__name:"RelatedCard",props:{identifier:String,id:Number,title:String,author:String,date:Number,function:Function},setup(t){const o=t,c=m(!1),_=m({x:0,y:0}),h=new Map([["incidents",3],["reports",4],["evidence",7]]),g=R(()=>{const e=[{key:"view",label:d.locale.VIEW}];return f.tabs[f.currentTab].key!==2&&e.push({key:"remove",label:d.locale.REMOVE}),e}),r=()=>{c.value=!1},w=e=>{e==="view"?M(h.get(o.identifier),o.identifier,o.id):e==="remove"&&o.function(o.id),r()},x=e=>{e.preventDefault(),r(),T().then(()=>{c.value=!0,_.value={x:e.clientX,y:e.clientY}})},b=()=>r();return(e,I)=>{const u=a("n-space"),y=a("n-divider"),C=a("n-thing"),S=a("n-list-item"),k=a("n-dropdown");return E(),N("div",null,[n(S,{onContextmenu:x},{default:s(()=>[n(C,null,{default:s(()=>[n(u,{vertical:"",size:"small"},{default:s(()=>[n(u,{justify:"space-between",align:"center"},{default:s(()=>{var p;return[l("h4",null,i(((p=t.title)==null?void 0:p.length)<40?t.title:t.title.slice(0,40)+"..."),1),l("h4",null,"#"+i(t.id),1)]}),_:1}),n(u,{justify:"space-between",align:"center"},{default:s(()=>[l("h5",null,i(v(d).locale.AUTHOR.replace("{user}",t.author)),1),l("h5",null,i(v(V)(t.date)),1)]),_:1})]),_:1}),n(y)]),_:1})]),_:1}),n(k,B({placement:"bottom-start",trigger:"manual"},_.value,{options:g.value,show:c.value,"on-clickoutside":b,onSelect:w}),null,16,["options","show"])])}}},W=D(j,[["__scopeId","data-v-525c3e29"]]);export{W as R};
