import{c as L,r as R,l as A,z as H,b as s,d as p,e as f,w as l,m as t,D as S,u as e,G as a,p as O,H as N,o as P,E as w,S as B,a as I,f as D,t as m,g as U,h as b,s as i,i as C,I as $,k as h,F as x,n as k,W as z,y as V}from"./index-243f2949.js";import{_ as G}from"./TopActions-1d666594.js";import{_ as K}from"./EditorContent-c7da8fcb.js";const M={__name:"Input",setup(d){function o(){N({term:a.tabs[a.currentTab].legislations.search,category:a.tabs[a.currentTab].legislations.category})}const g=L(()=>{const c=R([{value:-1,label:A.value.PLACEHOLDER.ALL}]);return c.value.push(...H.value.legislations.categories),c.value});return(c,n)=>{const _=s("font-awesome-icon"),r=s("n-icon"),v=s("n-input"),E=s("n-select"),T=s("n-input-group");return p(),f(T,null,{default:l(()=>[t(v,{onKeyup:n[0]||(n[0]=S(u=>o(),["enter"])),value:e(a).tabs[e(a).currentTab].legislations.search,"onUpdate:value":n[1]||(n[1]=u=>e(a).tabs[e(a).currentTab].legislations.search=u),placeholder:e(A).PLACEHOLDER.SEARCH,clearable:"",disabled:!e(O)(1001)},{prefix:l(()=>[t(r,null,{default:l(()=>[t(_,{icon:["fas","magnifying-glass"]})]),_:1})]),_:1},8,["value","placeholder","disabled"]),t(E,{placeholder:e(A).CATEGORY,options:g.value,value:e(a).tabs[e(a).currentTab].legislations.category,"onUpdate:value":n[2]||(n[2]=u=>e(a).tabs[e(a).currentTab].legislations.category=u),disabled:!e(O)(1001)},null,8,["placeholder","options","value","disabled"])]),_:1})}}},Y=["innerHTML"],j={__name:"Card",props:{id:Number,title:String,content:String,date:Number,category:Number,author:String},setup(d){const o=d;function g(){const _=i.settings.legislations.categories.find(r=>r.value===o.category);return _?_.label:i.locale.UNKNOWN_CATEGORY}const c=L(()=>n.value?n.value.getHTML():""),n=R(null);return P(()=>{n.value=new w({editable:!1,content:o.content,extensions:[B]})}),I(()=>{n.value.destroy()}),(_,r)=>{const v=s("n-ellipsis"),E=s("n-tag"),T=s("n-space"),u=s("n-card");return p(),f(u,{onClick:r[0]||(r[0]=y=>e($)(d.id)),title:"#"+d.id+" "+d.title,hoverable:"",size:"small"},{"header-extra":l(()=>{var y;return[D(m((y=e(U)(d.date))==null?void 0:y.time),1)]}),footer:l(()=>[t(T,{justify:"space-between",align:"center"},{default:l(()=>[b("p",null,m(e(i).locale.CREATED_BY.replace("{user}",d.author)),1),t(E,{bordered:!1},{default:l(()=>[D(m(g()),1)]),_:1})]),_:1})]),default:l(()=>[c.value?(p(),f(v,{key:0,"line-clamp":5,tooltip:!1},{default:l(()=>[b("div",{innerHTML:c.value},null,8,Y)]),_:1})):C("",!0)]),_:1},8,["title"])}}},F={__name:"BoxLeft",setup(d){return(o,g)=>{const c=s("n-divider"),n=s("n-space"),_=s("n-scrollbar");return p(),h(x,null,[b("h3",null,m(e(i).locale.LEGISLATIONS.LABEL),1),t(M),t(c),t(_,{class:"scrollbar-results"},{default:l(()=>[t(n,{vertical:""},{default:l(()=>[(p(!0),h(x,null,k(e(a).tabs[e(a).currentTab].legislations.results,r=>(p(),f(j,{id:r.id,title:r.title,content:r.content,date:r.date,category:r.category,author:r.author},null,8,["id","title","content","date","category","author"]))),256))]),_:1})]),_:1})],64)}}},W={__name:"Top",setup(d){return(o,g)=>(p(),f(G,{target:"legislations",buttons:["create","unlink","save","delete","clear"],required:["title","content"],permissions:{create:902,edit:903,delete:904}}))}},q={__name:"Bottom",setup(d){const o=L(()=>a.tabs[a.currentTab].legislations.stats.id?a.tabs[a.currentTab].legislations.stats:a.tabs[a.currentTab].legislations.new),g=L({get:()=>{const c=i.settings.legislations.categories.find(n=>n.value===o.value.category);return c?c.value:0},set:c=>{o.value.category=c}});return(c,n)=>{const _=s("n-input"),r=s("n-space"),v=s("n-gi"),E=s("n-select"),T=s("n-grid");return p(),f(r,{vertical:""},{default:l(()=>[t(T,{cols:e(a).tabs[e(a).currentTab].legislations.stats.id?4:2,"x-gap":"10"},{default:l(()=>[t(v,null,{default:l(()=>[t(r,{vertical:"",size:"small"},{default:l(()=>[b("h4",null,m(e(i).locale.PLACEHOLDER.TITLE),1),t(_,{placeholder:e(i).locale.PLACEHOLDER.TITLE,value:o.value.title,"onUpdate:value":n[0]||(n[0]=u=>o.value.title=u),clearable:!0},null,8,["placeholder","value"])]),_:1})]),_:1}),e(a).tabs[e(a).currentTab].legislations.stats.id?(p(),f(v,{key:0},{default:l(()=>[t(r,{vertical:"",size:"small"},{default:l(()=>[b("h4",null,m(e(i).locale.PLACEHOLDER.AUTHOR),1),t(_,{placeholder:e(i).locale.PLACEHOLDER.AUTHOR,value:o.value.author,"onUpdate:value":n[1]||(n[1]=u=>o.value.author=u),disabled:""},null,8,["placeholder","value"])]),_:1})]),_:1})):C("",!0),e(a).tabs[e(a).currentTab].legislations.stats.id?(p(),f(v,{key:1},{default:l(()=>[t(r,{vertical:"",size:"small"},{default:l(()=>[b("h4",null,m(e(i).locale.PLACEHOLDER.DATE),1),t(_,{placeholder:e(i).locale.PLACEHOLDER.DATE,value:e(z)(o.value.date),disabled:""},null,8,["placeholder","value"])]),_:1})]),_:1})):C("",!0),t(v,null,{default:l(()=>[t(r,{vertical:"",size:"small"},{default:l(()=>[b("h4",null,m(e(i).locale.PLACEHOLDER.CATEGORY),1),t(E,{options:e(i).settings.legislations.categories,value:g.value,"onUpdate:value":n[2]||(n[2]=u=>g.value=u)},null,8,["options","value"])]),_:1})]),_:1})]),_:1},8,["cols"]),t(K,{modelValue:o.value.content,"onUpdate:modelValue":n[3]||(n[3]=u=>o.value.content=u),disabled:!1,class:V("legislations-notes"),placeholder:e(i).locale.PLACEHOLDER.NOTES},null,8,["modelValue","placeholder"])]),_:1})}}},J={__name:"BoxRight",setup(d){const o=i.locale.LEGISLATIONS;return(g,c)=>{const n=s("n-space"),_=s("n-divider");return p(),h(x,null,[t(n,{justify:"space-between"},{default:l(()=>[b("h3",null,m(e(a).tabs[e(a).currentTab].legislations.stats.id?e(o).EDIT.replace("{id}","#"+e(a).tabs[e(a).currentTab].legislations.stats.id):e(o).EDIT.replace("{id}","")),1),t(W)]),_:1}),t(_),t(q)],64)}}},ee={__name:"index",setup(d){return(o,g)=>{const c=s("n-gi"),n=s("n-grid");return p(),h("div",null,[t(n,{"x-gap":"10",cols:"3","item-responsive":""},{default:l(()=>[t(c,{class:"box"},{default:l(()=>[t(F)]),_:1}),t(c,{class:"box",span:"0 400:1 600:2"},{default:l(()=>[t(J)]),_:1})]),_:1})])}}};export{ee as default};
