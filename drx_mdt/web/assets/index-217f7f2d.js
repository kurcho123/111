import{b as l,d as c,e as p,w as o,m as n,D as B,u as e,G as t,l as V,p as L,H as A,s as m,k as g,F as v,f as S,t as h,n as w,i as E,I as O,h as y,_ as D,c as k,K as I,y as G}from"./index-243f2949.js";import{_ as H}from"./TopActions-1d666594.js";import{_ as R}from"./Photo-33ea15b6.js";import{_ as z}from"./EditorContent-c7da8fcb.js";import{_ as N}from"./Box-066ea52c.js";import"./RelatedCard-1683bb11.js";const U={__name:"Input",setup(d){return(i,s)=>{const u=l("font-awesome-icon"),a=l("n-icon"),_=l("n-input");return c(),p(_,{onKeyup:s[0]||(s[0]=B(r=>e(A)(e(t).tabs[e(t).currentTab].vehicles.search),["enter"])),value:e(t).tabs[e(t).currentTab].vehicles.search,"onUpdate:value":s[1]||(s[1]=r=>e(t).tabs[e(t).currentTab].vehicles.search=r),placeholder:e(V).PLACEHOLDER.SEARCH,clearable:"",disabled:!e(L)(601)},{prefix:o(()=>[n(a,null,{default:o(()=>[n(u,{icon:["fas","magnifying-glass"]})]),_:1})]),_:1},8,["value","placeholder","disabled"])}}},j={__name:"Card",props:{plate:String,name:String,tags:Array},setup(d){return(i,s)=>{const u=l("n-tag"),a=l("n-space"),_=l("n-card");return c(),p(_,{onClick:s[0]||(s[0]=r=>e(O)(d.plate)),title:d.name+" #"+d.plate,hoverable:"",size:"small"},{default:o(()=>{var r;return[e(m).settings.vehicles.show_tags&&((r=d.tags)==null?void 0:r.length)>=1?(c(),g(v,{key:0},[S(h(e(m).locale.TAGS)+" ",1),n(a,null,{default:o(()=>[(c(!0),g(v,null,w(d.tags,b=>(c(),p(u,{type:b.type,bordered:!1},{default:o(()=>[S(h(b.label),1)]),_:2},1032,["type"]))),256))]),_:1})],64)):E("",!0)]}),_:1},8,["title"])}}},F={__name:"BoxLeft",setup(d){return(i,s)=>{const u=l("n-divider"),a=l("n-space"),_=l("n-scrollbar");return c(),g(v,null,[y("h3",null,h(e(m).locale.VEHICLES.LABEL),1),n(U),n(u),n(_,{class:"scrollbar-results"},{default:o(()=>[n(a,{vertical:"",size:[10,10]},{default:o(()=>[(c(!0),g(v,null,w(e(t).tabs[e(t).currentTab].vehicles.results,r=>(c(),p(j,{plate:r.plate,name:r.name,tags:r.tags},null,8,["plate","name","tags"]))),256))]),_:1})]),_:1})],64)}}},K={__name:"Top",setup(d){return(i,s)=>(c(),p(H,{target:"vehicles",buttons:["unlink","save"],permissions:{edit:602}}))}};const P={class:"grid"},X={class:"image-wrapper"},M={__name:"Bottom",setup(d){const i=m.locale.PLACEHOLDER,s=k(()=>t.tabs[t.currentTab].vehicles.stats);return(u,a)=>{const _=l("n-image"),r=l("n-badge"),b=l("n-input"),x=l("font-awesome-icon"),f=l("n-button"),C=l("n-input-group"),$=l("n-space");return c(),p($,{vertical:""},{default:o(()=>[y("div",P,[y("div",X,[n(r,{value:s.value.flagged?e(i).FLAGGED:"",processing:"",type:"warning"},{default:o(()=>[n(_,{width:"150",height:"150","object-fit":"cover",src:s.value.image?s.value.image:e(m).settings.vehicles.no_image},null,8,["src"])]),_:1},8,["value"])]),n($,{vertical:""},{default:o(()=>[n(C,null,{default:o(()=>[n(b,{value:s.value.identifier,disabled:"",placeholder:e(i).STATEID},null,8,["value","placeholder"]),n(f,{tertiary:"",disabled:!s.value.identifier,onClick:a[0]||(a[0]=T=>e(I)(2,"citizens",s.value.identifier))},{default:o(()=>[n(x,{icon:["fas","arrow-pointer"]})]),_:1},8,["disabled"])]),_:1}),n(R,{name:"vehicles",type:"image",disabled:!s.value.identifier,placeholder:e(i).PHOTO,modelValue:s.value.image,"onUpdate:modelValue":a[1]||(a[1]=T=>s.value.image=T)},null,8,["disabled","placeholder","modelValue"]),n(b,{value:s.value.color,"onUpdate:value":a[2]||(a[2]=T=>s.value.color=T),disabled:"",placeholder:e(i).COLOR},null,8,["value","placeholder"])]),_:1})]),n(z,{modelValue:s.value.notes,"onUpdate:modelValue":a[3]||(a[3]=T=>s.value.notes=T),disabled:!s.value.plate,class:G("vehicles-notes"),placeholder:e(i).NOTES},null,8,["modelValue","disabled","placeholder"])]),_:1})}}},q=D(M,[["__scopeId","data-v-83b5b277"]]),J={__name:"BoxMiddle",setup(d){const i=m.locale.VEHICLES;return(s,u)=>{const a=l("n-space"),_=l("n-divider");return c(),g(v,null,[n(a,{justify:"space-between"},{default:o(()=>[y("h3",null,h(e(t).tabs[e(t).currentTab].vehicles.stats.plate?e(i).EDIT.replace("{plate}","#"+e(t).tabs[e(t).currentTab].vehicles.stats.plate):e(i).EDIT.replace("{plate}","")),1),n(K)]),_:1}),n(_),n(q)],64)}}},Q={__name:"Stats",setup(d){return(i,s)=>{const u=l("n-tag"),a=l("n-space");return c(),g(v,null,[y("h4",null,h(e(m).locale.BOXES.STATS),1),n(a,null,{default:o(()=>[(c(!0),g(v,null,w(e(t).tabs[e(t).currentTab].vehicles.stats.stats,_=>(c(),p(u,{bordered:!1},{default:o(()=>[S(h(_.label.replace("{"+_.column+"}",_.value)),1)]),_:2},1024))),256))]),_:1})],64)}}},W={__name:"Tags",setup(d){return(i,s)=>{const u=l("font-awesome-icon"),a=l("n-icon"),_=l("n-button"),r=l("n-dropdown"),b=l("n-space"),x=l("n-tag");return c(),g(v,null,[n(b,{justify:"space-between"},{default:o(()=>[y("h4",null,h(e(m).locale.BOXES.TAGS),1),n(r,{show:e(t).tabs[e(t).currentTab].vehicles.addTags,options:e(m).settings.vehicles.tags,onSelect:e(t).tabs[e(t).currentTab].vehicles.addTag,disabled:!e(t).tabs[e(t).currentTab].vehicles.stats.plate},{default:o(()=>[n(_,{onClick:s[0]||(s[0]=f=>e(t).tabs[e(t).currentTab].vehicles.addTags=!e(t).tabs[e(t).currentTab].vehicles.addTags),tertiary:"",circle:"",size:"tiny",disabled:!e(t).tabs[e(t).currentTab].vehicles.stats.plate},{icon:o(()=>[n(a,null,{default:o(()=>[n(u,{icon:["fas","plus"]})]),_:1})]),_:1},8,["disabled"])]),_:1},8,["show","options","onSelect","disabled"])]),_:1}),n(b,null,{default:o(()=>[(c(!0),g(v,null,w(e(t).tabs[e(t).currentTab].vehicles.stats.tags,f=>(c(),p(x,{type:f.type,bordered:!1,closable:"",onClose:C=>e(t).tabs[e(t).currentTab].vehicles.removeTag(f.key)},{default:o(()=>[S(h(f.label),1)]),_:2},1032,["type","onClose"]))),256))]),_:1})],64)}}},Y={__name:"BoxRight",setup(d){const i=["incidents","reports","evidence","gallery"],s=a=>{const _=m.settings.vehicles[`show_${a}`],r=_&&t.tabs[t.currentTab].vehicles.stats.plate?t.tabs[t.currentTab].vehicles.stats[a]:!1,b=()=>{a!=="gallery"?(t.tabs[t.currentTab].shared.addRelated.type=a,t.tabs[t.currentTab].shared.addRelated.view=!0):(t.tabs[t.currentTab].shared.addToGallery.type="reports",t.tabs[t.currentTab].shared.addToGalleryView=!0)};return{identifier:a,title:m.locale.BOXES[a.toUpperCase()],visible:_,array:r,onClick:b}},u=k(()=>i.map(a=>s(a)).filter(a=>a.visible));return(a,_)=>{const r=l("n-gi"),b=l("n-grid"),x=l("n-scrollbar");return c(),p(x,null,{default:o(()=>[n(b,{"y-gap":"10",cols:1},{default:o(()=>[e(m).settings.vehicles.show_information?(c(),p(r,{key:0,class:"sub-box"},{default:o(()=>[n(Q)]),_:1})):E("",!0),e(m).settings.vehicles.show_tags?(c(),p(r,{key:1,class:"sub-box"},{default:o(()=>[n(W)]),_:1})):E("",!0),(c(!0),g(v,null,w(u.value,(f,C)=>(c(),p(r,{key:C},{default:o(()=>[n(N,{identifier:f.identifier,title:f.title,visible:f.visible,array:f.array,onClick:f.onClick},null,8,["identifier","title","visible","array","onClick"])]),_:2},1024))),128))]),_:1})]),_:1})}}},le={__name:"index",setup(d){return(i,s)=>{const u=l("n-gi"),a=l("n-grid");return c(),p(a,{"x-gap":"10",cols:3},{default:o(()=>[n(u,{class:"box"},{default:o(()=>[n(F)]),_:1}),n(u,{class:"box"},{default:o(()=>[n(J)]),_:1}),n(u,{class:"box"},{default:o(()=>[n(Y)]),_:1})]),_:1})}}};export{le as default};
