import{r as O,q as I,s as l,o as G,a as q,b as o,d as v,k as A,m as a,w as n,h as E,u as t,e as x,F as U,n as P,f as k,t as g,i as z,G as e,x as B,c as N,R as K,U as X,V as Y,W as M,l as j,p as F,X as Z,Y as J,_ as Q,Z as ee}from"./index-243f2949.js";const te=["src"],ae={__name:"Card",props:{id:Number,plate:String,owner:String,image:String,creationDate:Number,date:Number,name:String,color:String,reason:String,tags:Array,author:String},setup(r){const i=r,u=O(I(i.date));let b=null;const d=O(!1),c=O(0),p=O(0),s=[{key:"view",label:l.locale.VIEW},{key:"edit",label:l.locale.EDIT}];function _(m){const w=l.settings.bolos.tags[l.settings.bolos.tags.findIndex(L=>L.value===m)];if(w)return w.type}function h(m){const w=l.settings.bolos.tags[l.settings.bolos.tags.findIndex(L=>L.value===m)];if(w)return w.label}function f(m){m==="view"?(e.tabs[e.currentTab].bolo.stats={id:i.id,plate:i.plate,owner:i.owner,image:i.image,creationDate:i.creationDate,date:i.date,name:i.name,color:i.color,reason:i.reason,tags:i.tags,author:i.author},e.tabs[e.currentTab].bolo.view=!0):m==="edit"&&(e.tabs[e.currentTab].bolo.stats={id:i.id,plate:i.plate,owner:i.owner,image:i.image,creationDate:i.creationDate,date:i.date,name:i.name,color:i.color,reason:i.reason,tags:i.tags,author:i.author},e.tabs[e.currentTab].bolo.edit=!0),d.value=!1}function y(m){m.preventDefault(),d.value=!1,B(()=>{d.value=!0,c.value=m.clientX,p.value=m.clientY})}function D(){d.value=!1}return G(()=>{b=setInterval(()=>{u.value=I(i.date)},1e3)}),q(()=>{clearInterval(b)}),(m,w)=>{const L=o("n-ellipsis"),T=o("n-tag"),W=o("n-space"),H=o("n-card"),S=o("n-dropdown");return v(),A(U,null,[a(H,{title:"#"+r.plate,hoverable:"",size:"small",onContextmenu:y},{cover:n(()=>[E("img",{style:{height:"150px","object-fit":"cover"},src:r.image?r.image:t(l).settings.bolos.no_image},null,8,te)]),footer:n(()=>[r.tags!=="null"?(v(),x(W,{key:0},{default:n(()=>[(v(!0),A(U,null,P(r.tags,C=>(v(),x(T,{bordered:!1,type:_(C)},{default:n(()=>[k(g(h(C)),1)]),_:2},1032,["type"]))),256))]),_:1})):z("",!0)]),default:n(()=>{var C;return[E("p",null,g((C=u.value)==null?void 0:C.time),1),r.reason?(v(),x(L,{key:0,"line-clamp":2,tooltip:!1},{default:n(()=>[k(g(r.reason),1)]),_:1})):z("",!0)]}),_:1},8,["title"]),a(S,{placement:"bottom-start",trigger:"manual",x:c.value,y:p.value,options:s,show:d.value,"on-clickoutside":D,onSelect:f},null,8,["x","y","show"])],64)}}},ne={style:{display:"flex","align-items":"center",gap:"10px","justify-content":"center"}},oe={__name:"AddBolo",setup(r){const i=N(()=>{var d,c;return(c=(d=e.tabs[e.currentTab])==null?void 0:d.bolo)==null?void 0:c.new}),u=({option:d,handleClose:c})=>K(X,{type:d.type,closable:!0,bordered:!1,onMousedown:p=>{p.preventDefault()},onClose:p=>{p.stopPropagation(),c()}},{default:()=>d.label}),b=N(()=>{const d=e.tabs[e.currentTab].bolo.new;return!(d.plate&&d.owner&&d.date&&d.reason)});return(d,c)=>{const p=o("n-input"),s=o("n-gi"),_=o("n-date-picker"),h=o("n-grid"),f=o("n-space"),y=o("n-select"),D=o("n-divider"),m=o("n-button"),w=o("n-card"),L=o("n-modal");return v(),x(L,{show:t(e).tabs[t(e).currentTab].bolo.add,"onUpdate:show":c[9]||(c[9]=T=>t(e).tabs[t(e).currentTab].bolo.add=T),"transform-origin":"center"},{default:n(()=>[a(w,{style:{width:"auto","max-width":"500px",height:"auto"},bordered:!1,size:"small",role:"dialog","aria-modal":"true"},{default:n(()=>[a(f,{vertical:""},{default:n(()=>[a(p,{type:"textarea",value:i.value.reason,"onUpdate:value":c[0]||(c[0]=T=>i.value.reason=T),autosize:{minRows:5,maxRows:10},placeholder:t(l).locale.PLACEHOLDER.REASON},null,8,["value","placeholder"]),a(f,null,{default:n(()=>[a(h,{cols:"2","x-gap":"10","y-gap":"10"},{default:n(()=>[a(s,null,{default:n(()=>[a(p,{value:i.value.plate,"onUpdate:value":c[1]||(c[1]=T=>i.value.plate=T),placeholder:t(l).locale.PLACEHOLDER.PLATE,disabled:""},null,8,["value","placeholder"])]),_:1}),a(s,null,{default:n(()=>[a(p,{value:i.value.owner,"onUpdate:value":c[2]||(c[2]=T=>i.value.owner=T),placeholder:t(l).locale.PLACEHOLDER.OWNER,disabled:""},null,8,["value","placeholder"])]),_:1}),a(s,null,{default:n(()=>[a(p,{value:i.value.color,"onUpdate:value":c[3]||(c[3]=T=>i.value.color=T),placeholder:t(l).locale.PLACEHOLDER.COLOR},null,8,["value","placeholder"])]),_:1}),a(s,null,{default:n(()=>[a(_,{value:i.value.date,"onUpdate:value":c[4]||(c[4]=T=>i.value.date=T),type:"datetime",placeholder:t(l).locale.PLACEHOLDER.DATE,format:t(l).settings.dateFormat},null,8,["value","placeholder","format"])]),_:1})]),_:1})]),_:1}),a(y,{options:t(l).settings.bolos.tags,"render-tag":u,multiple:"",value:i.value.tags,"onUpdate:value":c[5]||(c[5]=T=>i.value.tags=T)},null,8,["options","value"]),a(D),E("div",ne,[a(m,{onClick:c[6]||(c[6]=T=>t(e).tabs[t(e).currentTab].shared.searchPlate.view=!0),strong:"",secondary:""},{default:n(()=>[k(g(t(l).locale.SEARCH),1)]),_:1}),a(m,{onClick:c[7]||(c[7]=T=>t(e).tabs[t(e).currentTab].bolo.clear()),strong:"",secondary:""},{default:n(()=>[k(g(t(l).locale.CLEAR),1)]),_:1}),a(m,{onClick:c[8]||(c[8]=T=>t(e).tabs[t(e).currentTab].bolo.create()),strong:"",secondary:"",disabled:b.value},{default:n(()=>[k(g(t(l).locale.CREATE),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["show"])}}},le=["src"],se={style:{display:"flex",gap:"5px"}},re={data(){return{timer:null,showDropDown:O(!1),xRef:O(0),yRef:O(0),dropdownOptions:[{key:"edit",label:l.locale.EDIT},{key:"close",label:l.locale.CLOSE}]}},methods:{expireDate(){var r;return(r=I(e.tabs[e.currentTab].bolo.stats.date))==null?void 0:r.time},handleSelect(r){r==="edit"?e.tabs[e.currentTab].bolo.edit=!0:r==="close"&&(e.tabs[e.currentTab].bolo.view=!1,e.tabs[e.currentTab].bolo.stats={id:null,plate:null,owner:null,image:null,date:null,name:null,color:null,reason:null,tags:[],author:null}),this.showDropDown=!1},handleContextMenu(r){r.preventDefault(),this.showDropDown=!1,B().then(()=>{this.showDropDown=!0,this.xRef=r.clientX,this.yRef=r.clientY})},onClickoutside(){this.showDropDown=!1}},mounted(){this.timer=setInterval(()=>{this.expireDate},1e3)},beforeDestroy(){clearInterval(this.timer)}},ue=Object.assign(re,{__name:"ViewBolo",setup(r){return(i,u)=>{const b=o("n-divider"),d=o("n-input"),c=o("n-space"),p=o("n-tag"),s=o("n-card"),_=o("n-dropdown"),h=o("n-modal");return v(),x(h,{show:t(e).tabs[t(e).currentTab].bolo.view,"onUpdate:show":u[3]||(u[3]=f=>t(e).tabs[t(e).currentTab].bolo.view=f),"transform-origin":"center"},{default:n(()=>[E("div",null,[a(s,{style:{width:"auto","max-width":"800px",height:"auto"},bordered:!1,size:"small",role:"dialog","aria-modal":"true",onContextmenu:i.handleContextMenu},Y({footer:n(()=>[a(c,{justify:"space-between"},{default:n(()=>{var f,y,D;return[E("p",null,g(t(l).locale.CREATED_BY.replace("{user}",(D=(y=(f=t(e).tabs[t(e).currentTab])==null?void 0:f.bolo)==null?void 0:y.stats)==null?void 0:D.author)),1),E("p",null,g(t(l).locale.EXPIRES.replace("{date}",i.expireDate)),1)]}),_:1})]),default:n(()=>[a(b,null,{default:n(()=>[k(" #"+g(t(e).tabs[t(e).currentTab].bolo.stats.id)+" - "+g(t(e).tabs[t(e).currentTab].bolo.stats.name),1)]),_:1}),a(c,{vertical:""},{default:n(()=>[a(d,{type:"textarea",value:t(e).tabs[t(e).currentTab].bolo.stats.reason,"onUpdate:value":u[0]||(u[0]=f=>t(e).tabs[t(e).currentTab].bolo.stats.reason=f),autosize:{minRows:3,maxRows:10},disabled:""},null,8,["value"]),a(c,null,{default:n(()=>[E("div",se,[a(d,{value:t(e).tabs[t(e).currentTab].bolo.stats.plate,"onUpdate:value":u[1]||(u[1]=f=>t(e).tabs[t(e).currentTab].bolo.stats.plate=f),disabled:""},null,8,["value"]),a(d,{value:t(e).tabs[t(e).currentTab].bolo.stats.color,"onUpdate:value":u[2]||(u[2]=f=>t(e).tabs[t(e).currentTab].bolo.stats.color=f),disabled:""},null,8,["value"]),a(d,{value:t(M)(t(e).tabs[t(e).currentTab].bolo.stats.creationDate),disabled:""},null,8,["value"])])]),_:1}),a(c,null,{default:n(()=>[(v(!0),A(U,null,P(t(e).tabs[t(e).currentTab].bolo.stats.tags,f=>{var y;return v(),x(p,{bordered:!1,type:(y=t(l).settings.bolos.tags[t(l).settings.bolos.tags.findIndex(D=>D.value===f)])==null?void 0:y.type},{default:n(()=>{var D;return[k(g((D=t(l).settings.bolos.tags[t(l).settings.bolos.tags.findIndex(m=>m.value===f)])==null?void 0:D.label),1)]}),_:2},1032,["type"])}),256))]),_:1})]),_:1})]),_:2},[t(e).tabs[t(e).currentTab].bolo.stats.image?{name:"cover",fn:n(()=>[E("img",{style:{"max-height":"250px","object-fit":"cover"},src:t(e).tabs[t(e).currentTab].bolo.stats.image},null,8,le)]),key:"0"}:void 0]),1032,["onContextmenu"]),a(_,{placement:"bottom-start",trigger:"manual",x:i.xRef,y:i.yRef,options:i.dropdownOptions,show:i.showDropDown,"on-clickoutside":i.onClickoutside,onSelect:i.handleSelect},null,8,["x","y","options","show","on-clickoutside","onSelect"])])]),_:1},8,["show"])}}}),ie=["src"],ce={style:{display:"flex",gap:"5px"}},de={data(){return{timer2:null,showDropDown:O(!1),xRef:O(0),yRef:O(0),dropdownOptions:[{key:"save",label:l.locale.SAVE},{key:"delete",label:l.locale.DELETE},{key:"close",label:l.locale.CLOSE}],showDate:O(!1)}},methods:{expireDate(){var r;return(r=I(e.tabs[e.currentTab].bolo.stats.date))==null?void 0:r.time},handleSelect(r){r==="save"?e.tabs[e.currentTab].bolo.save():r==="delete"?(e.tabs[e.currentTab].bolo.edit=!1,e.tabs[e.currentTab].bolo.delete()):r==="close"&&(e.tabs[e.currentTab].bolo.edit=!1),this.showDropDown=!1},handleContextMenu(r){r.preventDefault(),this.showDropDown=!1,B().then(()=>{this.showDropDown=!0,this.xRef=r.clientX,this.yRef=r.clientY})},onClickoutside(){this.showDropDown=!1}},mounted(){this.timer2=setInterval(()=>{this.expireDate},1e3)},beforeDestroy(){clearInterval(this.timer2)}},pe=Object.assign(de,{__name:"EditBolo",setup(r){return(i,u)=>{const b=o("n-divider"),d=o("n-input"),c=o("n-date-picker"),p=o("n-collapse-transition"),s=o("n-space"),_=o("n-tag"),h=o("font-awesome-icon"),f=o("n-button"),y=o("n-card"),D=o("n-dropdown"),m=o("n-modal");return v(),x(m,{show:t(e).tabs[t(e).currentTab].bolo.edit,"onUpdate:show":u[5]||(u[5]=w=>t(e).tabs[t(e).currentTab].bolo.edit=w),"transform-origin":"center"},{default:n(()=>[E("div",null,[a(y,{style:{width:"auto","max-width":"800px",height:"auto"},bordered:!1,size:"small",role:"dialog","aria-modal":"true",onContextmenu:i.handleContextMenu},Y({footer:n(()=>[a(s,{justify:"space-between"},{default:n(()=>[E("p",null,g(t(l).locale.CREATED_BY.replace("{user}",t(e).tabs[t(e).currentTab].bolo.stats.author)),1),a(s,{size:"small"},{default:n(()=>[a(f,{size:"tiny",circle:"",onClick:u[4]||(u[4]=w=>i.showDate=!i.showDate)},{icon:n(()=>[a(h,{icon:["fas","clock"]})]),_:1}),E("p",null,g(t(l).locale.EXPIRES.replace("{date}",i.expireDate)),1)]),_:1})]),_:1})]),default:n(()=>[a(b,null,{default:n(()=>[k(" #"+g(t(e).tabs[t(e).currentTab].bolo.stats.id)+" - "+g(t(e).tabs[t(e).currentTab].bolo.stats.name),1)]),_:1}),a(s,{vertical:""},{default:n(()=>[a(d,{type:"textarea",value:t(e).tabs[t(e).currentTab].bolo.stats.reason,"onUpdate:value":u[0]||(u[0]=w=>t(e).tabs[t(e).currentTab].bolo.stats.reason=w),autosize:{minRows:3,maxRows:10}},null,8,["value"]),a(s,null,{default:n(()=>[E("div",ce,[a(d,{value:t(e).tabs[t(e).currentTab].bolo.stats.plate,"onUpdate:value":u[1]||(u[1]=w=>t(e).tabs[t(e).currentTab].bolo.stats.plate=w),disabled:""},null,8,["value"]),a(d,{value:t(e).tabs[t(e).currentTab].bolo.stats.color,"onUpdate:value":u[2]||(u[2]=w=>t(e).tabs[t(e).currentTab].bolo.stats.color=w)},null,8,["value"]),a(d,{value:t(M)(t(e).tabs[t(e).currentTab].bolo.stats.creationDate),disabled:""},null,8,["value"]),a(p,{show:i.showDate},{default:n(()=>[a(c,{value:t(e).tabs[t(e).currentTab].bolo.stats.date,"onUpdate:value":u[3]||(u[3]=w=>t(e).tabs[t(e).currentTab].bolo.stats.date=w),type:"datetime",format:t(l).settings.dateFormat},null,8,["value","format"])]),_:1},8,["show"])])]),_:1}),a(s,null,{default:n(()=>[(v(!0),A(U,null,P(t(e).tabs[t(e).currentTab].bolo.stats.tags,w=>{var L;return v(),x(_,{bordered:!1,type:(L=t(l).settings.bolos.tags[t(l).settings.bolos.tags.findIndex(T=>T.value===w)])==null?void 0:L.type},{default:n(()=>{var T;return[k(g((T=t(l).settings.bolos.tags[t(l).settings.bolos.tags.findIndex(W=>W.value===w)])==null?void 0:T.label),1)]}),_:2},1032,["type"])}),256))]),_:1})]),_:1})]),_:2},[t(e).tabs[t(e).currentTab].bolo.stats.image?{name:"cover",fn:n(()=>[E("img",{style:{"max-height":"250px","object-fit":"cover"},src:t(e).tabs[t(e).currentTab].bolo.stats.image},null,8,ie)]),key:"0"}:void 0]),1032,["onContextmenu"]),a(D,{placement:"bottom-start",trigger:"manual",x:i.xRef,y:i.yRef,options:i.dropdownOptions,show:i.showDropDown,"on-clickoutside":i.onClickoutside,onSelect:i.handleSelect},null,8,["x","y","options","show","on-clickoutside","onSelect"])])]),_:1},8,["show"])}}}),_e={__name:"Bolos",setup(r){const i=N(()=>{const b=e.tabs[e.currentTab].bolo.search.toLowerCase();return e.tabs[e.currentTab].bolo.bolos.filter(d=>(d.plate??j.PLACEHOLDER.UNKNOWN).toLowerCase().includes(b)||(d.owner??j.PLACEHOLDER.UNKNOWN).toLowerCase().includes(b))}),u=()=>{e.tabs[e.currentTab].bolo.add=!0};return(b,d)=>{const c=o("font-awesome-icon"),p=o("n-icon"),s=o("n-button"),_=o("n-input"),h=o("n-space"),f=o("n-divider"),y=o("n-gi"),D=o("n-grid"),m=o("n-scrollbar");return v(),A(U,null,[a(h,{justify:"space-between"},{default:n(()=>[E("h3",null,g(t(j).BOLOS_WARRANTS.BOLOS.LABEL),1),a(h,{align:"center"},{default:n(()=>[t(F)(501)?(v(),x(s,{key:0,onClick:u,tertiary:"",circle:"",size:"small"},{icon:n(()=>[a(p,null,{default:n(()=>[a(c,{icon:["fas","plus"]})]),_:1})]),_:1})):z("",!0),a(_,{value:t(e).tabs[t(e).currentTab].bolo.search,"onUpdate:value":d[0]||(d[0]=w=>t(e).tabs[t(e).currentTab].bolo.search=w),placeholder:t(j).PLACEHOLDER.SEARCH},{prefix:n(()=>[a(p,null,{default:n(()=>[a(c,{icon:["fas","magnifying-glass"]})]),_:1})]),_:1},8,["value","placeholder"])]),_:1})]),_:1}),a(f),a(m,{class:"scrollbar-input_data"},{default:n(()=>[a(D,{cols:"3","x-gap":"10","y-gap":"10"},{default:n(()=>[(v(!0),A(U,null,P(i.value,(w,L)=>(v(),x(y,{key:L},{default:n(()=>[a(ae,Z(J(w)),null,16)]),_:2},1024))),128))]),_:1})]),_:1}),a(oe),a(ue),a(pe)],64)}}},be=["src"],me={data(){return{expireDate:I(this.date),timer:null,showDropDown:O(!1),xRef:O(0),yRef:O(0),dropdownOptions:[{key:"view",label:l.locale.VIEW},{key:"edit",label:l.locale.EDIT}]}},methods:{handleSelect(r){r==="view"?(e.tabs[e.currentTab].warrant.stats={id:this.id,identifier:this.identifier,fullname:this.fullname,image:this.image,creationDate:this.creationDate,date:this.date,clothes:this.clothes,reason:this.reason,tags:this.tags,author:this.author},e.tabs[e.currentTab].warrant.view=!0):r==="edit"&&(e.tabs[e.currentTab].warrant.stats={id:this.id,identifier:this.identifier,fullname:this.fullname,image:this.image,creationDate:this.creationDate,date:this.date,clothes:this.clothes,reason:this.reason,tags:this.tags,author:this.author},e.tabs[e.currentTab].warrant.edit=!0),this.showDropDown=!1},handleContextMenu(r){r.preventDefault(),this.showDropDown=!1,B().then(()=>{this.showDropDown=!0,this.xRef=r.clientX,this.yRef=r.clientY})},onClickoutside(){this.showDropDown=!1}},mounted(){this.timer=setInterval(()=>{this.expireDate=I(this.date)},1e3)},beforeDestroy(){clearInterval(this.timer)}},fe=Object.assign(me,{__name:"Card",props:{id:Number,identifier:String,fullname:String,image:String,creationDate:Number,date:Number,clothes:Object,reason:String,tags:Array,author:String},setup(r){function i(b){const d=l.settings.warrants.tags[l.settings.warrants.tags.findIndex(c=>c.value===b)];if(d)return d.type}function u(b){const d=l.settings.warrants.tags[l.settings.warrants.tags.findIndex(c=>c.value===b)];if(d)return d.label}return(b,d)=>{const c=o("n-ellipsis"),p=o("n-tag"),s=o("n-space"),_=o("n-card"),h=o("n-dropdown");return v(),A(U,null,[a(_,{title:r.identifier?"#"+r.identifier:t(l).locale.PLACEHOLDER.UNKNOWN,hoverable:"",size:"small",onContextmenu:b.handleContextMenu},{cover:n(()=>[E("img",{style:{height:"150px","object-fit":"cover"},src:r.image?r.image:t(l).settings.warrants.no_image},null,8,be)]),footer:n(()=>[r.tags!=="null"?(v(),x(s,{key:0},{default:n(()=>[(v(!0),A(U,null,P(r.tags,f=>(v(),x(p,{bordered:!1,type:i(f)},{default:n(()=>[k(g(u(f)),1)]),_:2},1032,["type"]))),256))]),_:1})):z("",!0)]),default:n(()=>{var f;return[E("p",null,g(t(l).locale.FULLNAME.replace("{fullname}",r.fullname||t(l).locale.PLACEHOLDER.UNKNOWN)),1),E("p",null,g((f=b.expireDate)==null?void 0:f.time),1),r.reason?(v(),x(c,{key:0,"line-clamp":2,tooltip:!1},{default:n(()=>[k(g(r.reason),1)]),_:1})):z("",!0)]}),_:1},8,["title","onContextmenu"]),a(h,{placement:"bottom-start",trigger:"manual",x:b.xRef,y:b.yRef,options:b.dropdownOptions,show:b.showDropDown,"on-clickoutside":b.onClickoutside,onSelect:b.handleSelect},null,8,["x","y","options","show","on-clickoutside","onSelect"])],64)}}}),ve={style:{display:"flex","align-items":"center",gap:"10px","justify-content":"center"}},ge={__name:"AddWarrant",setup(r){const i=N(()=>e.tabs[e.currentTab]),u=N(()=>{var p,s;return(s=(p=i.value)==null?void 0:p.warrant)==null?void 0:s.new}),b={hat:"hat-cowboy",mask:"mask-face",jacket:"vest-patches",gloves:"mitten",pants:"carrot",shoes:"shoe-prints"},d=({option:p,handleClose:s})=>K(X,{type:p.type,closable:!0,bordered:!1,onMousedown:_=>{_.preventDefault()},onClose:_=>{_.stopPropagation(),s()}},{default:()=>p.label}),c=N(()=>{const p=e.tabs[e.currentTab].warrant.new;return!(p.identifier&&p.reason&&p.date)});return(p,s)=>{const _=o("n-input"),h=o("n-gi"),f=o("n-date-picker"),y=o("n-grid"),D=o("font-awesome-icon"),m=o("n-icon"),w=o("n-input-group"),L=o("n-space"),T=o("n-select"),W=o("n-divider"),H=o("n-button"),S=o("n-card"),C=o("n-modal");return v(),x(C,{show:t(e).tabs[t(e).currentTab].warrant.add,"onUpdate:show":s[7]||(s[7]=R=>t(e).tabs[t(e).currentTab].warrant.add=R),"transform-origin":"center"},{default:n(()=>[a(S,{style:{width:"auto","max-width":"500px",height:"auto"},bordered:!1,size:"small",role:"dialog","aria-modal":"true"},{default:n(()=>[a(L,{vertical:""},{default:n(()=>[a(_,{type:"textarea",value:u.value.reason,"onUpdate:value":s[0]||(s[0]=R=>u.value.reason=R),autosize:{minRows:5,maxRows:10},placeholder:t(l).locale.PLACEHOLDER.REASON},null,8,["value","placeholder"]),a(L,{align:"center",vertical:""},{default:n(()=>[a(y,{cols:"2","x-gap":"10","y-gap":"10"},{default:n(()=>[a(h,null,{default:n(()=>[a(_,{value:u.value.identifier,"onUpdate:value":s[1]||(s[1]=R=>u.value.identifier=R),placeholder:t(l).locale.PLACEHOLDER.STATEID,disabled:""},null,8,["value","placeholder"])]),_:1}),a(h,null,{default:n(()=>[a(f,{value:u.value.date,"onUpdate:value":s[2]||(s[2]=R=>u.value.date=R),type:"datetime",placeholder:t(l).locale.PLACEHOLDER.DATE,format:t(l).settings.dateFormat},null,8,["value","placeholder","format"])]),_:1})]),_:1}),a(L,{vertical:""},{default:n(()=>[(v(!0),A(U,null,P(u.value.clothes,(R,$)=>(v(),x(L,{align:"center"},{default:n(()=>[a(m,null,{default:n(()=>[a(D,{icon:["fas",b[$]]},null,8,["icon"])]),_:2},1024),a(w,null,{default:n(()=>[a(_,{value:u.value.clothes[$].type,"onUpdate:value":V=>u.value.clothes[$].type=V,placeholder:t(l).locale.PLACEHOLDER.CLOTHING},null,8,["value","onUpdate:value","placeholder"]),a(_,{value:u.value.clothes[$].color,"onUpdate:value":V=>u.value.clothes[$].color=V,placeholder:t(l).locale.PLACEHOLDER.COLOR},null,8,["value","onUpdate:value","placeholder"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),a(T,{options:t(l).settings.warrants.tags,"render-tag":d,multiple:"",value:u.value.tags,"onUpdate:value":s[3]||(s[3]=R=>u.value.tags=R)},null,8,["options","value"]),a(W),E("div",ve,[a(H,{onClick:s[4]||(s[4]=R=>{t(e).tabs[t(e).currentTab].shared.addUser.view=!0,t(e).tabs[t(e).currentTab].shared.addUser.type="warrants"}),strong:"",secondary:""},{default:n(()=>[k(g(t(l).locale.SEARCH),1)]),_:1}),a(H,{onClick:s[5]||(s[5]=R=>t(e).tabs[t(e).currentTab].warrant.clear()),strong:"",secondary:""},{default:n(()=>[k(g(t(l).locale.CLEAR),1)]),_:1}),a(H,{onClick:s[6]||(s[6]=R=>t(e).tabs[t(e).currentTab].warrant.create()),strong:"",secondary:"",disabled:c.value},{default:n(()=>[k(g(t(l).locale.CREATE),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["show"])}}};const we=["src"],he={data(){return{timer:null,showDropDown:O(!1),xRef:O(0),yRef:O(0),dropdownOptions:[{key:"edit",label:l.locale.EDIT},{key:"close",label:l.locale.CLOSE}]}},methods:{expireDate(){var r;return(r=I(e.tabs[e.currentTab].warrant.stats.date))==null?void 0:r.time},handleSelect(r){r==="edit"?e.tabs[e.currentTab].warrant.edit=!0:r==="close"&&(e.tabs[e.currentTab].warrant.view=!1,e.tabs[e.currentTab].warrant.stats={id:null,identifier:null,fullname:null,image:null,creationDate:null,date:null,clothes:null,reason:null,tags:null,author:null}),this.showDropDown=!1},handleContextMenu(r){r.preventDefault(),this.showDropDown=!1,B().then(()=>{this.showDropDown=!0,this.xRef=r.clientX,this.yRef=r.clientY})},onClickoutside(){this.showDropDown=!1}},mounted(){this.timer=setInterval(()=>{this.expireDate},1e3)},beforeDestroy(){clearInterval(this.timer)}},De=Object.assign(he,{__name:"ViewWarrant",setup(r){const i=N(()=>e.tabs[e.currentTab]),u=N(()=>{var p,s;return((s=(p=i.value)==null?void 0:p.warrant)==null?void 0:s.stats)??{}}),b=(p,s)=>{const _=l.locale.BOLOS_WARRANTS.WARRANTS.CLOTHES[s.toUpperCase()];return _?_.replace("{value}",p??l.locale.PLACEHOLDER.UNKNOWN):l.locale.PLACEHOLDER.UNKNOWN},d=N(()=>{var p,s;return(s=I((p=u.value)==null?void 0:p.date))==null?void 0:s.time}),c={hat:"hat-cowboy",mask:"mask-face",jacket:"vest-patches",gloves:"mitten",pants:"carrot",shoes:"shoe-prints"};return(p,s)=>{const _=o("n-divider"),h=o("n-input"),f=o("n-date-picker"),y=o("n-space"),D=o("font-awesome-icon"),m=o("n-icon"),w=o("n-input-group"),L=o("n-tag"),T=o("n-card"),W=o("n-dropdown"),H=o("n-modal");return v(),x(H,{show:t(e).tabs[t(e).currentTab].warrant.view,"onUpdate:show":s[2]||(s[2]=S=>t(e).tabs[t(e).currentTab].warrant.view=S),"transform-origin":"center"},{default:n(()=>[E("div",null,[a(T,{style:{width:"auto","max-width":"800px",height:"auto"},bordered:!1,size:"small",role:"dialog","aria-modal":"true",onContextmenu:p.handleContextMenu},{cover:n(()=>[E("img",{style:{"max-height":"250px","object-fit":"cover"},src:u.value.image?u.value.image:t(l).settings.warrants.no_image},null,8,we)]),footer:n(()=>[a(y,{justify:"space-between"},{default:n(()=>[E("p",null,g(t(l).locale.CREATED_BY.replace("{user}",t(e).tabs[t(e).currentTab].warrant.stats.author)),1),a(y,{size:"small"},{default:n(()=>[E("p",null,g(t(l).locale.EXPIRES.replace("{date}",d.value)),1)]),_:1})]),_:1})]),default:n(()=>[a(_,null,{default:n(()=>[k(" #"+g(u.value.id)+" - "+g(t(l).locale.STATEID.replace("{identifier}",u.value.identifier??t(l).locale.PLACEHOLDER.UNKNOWN)),1)]),_:1}),a(y,{vertical:""},{default:n(()=>[a(h,{type:"textarea",value:u.value.reason,"onUpdate:value":s[0]||(s[0]=S=>u.value.reason=S),autosize:{minRows:5,maxRows:10},disabled:""},null,8,["value"]),a(y,{vertical:""},{default:n(()=>[a(y,{size:"small"},{default:n(()=>[a(h,{value:t(M)(t(e).tabs[t(e).currentTab].warrant.stats.creationDate),disabled:""},null,8,["value"]),a(f,{value:t(e).tabs[t(e).currentTab].warrant.stats.date,"onUpdate:value":s[1]||(s[1]=S=>t(e).tabs[t(e).currentTab].warrant.stats.date=S),type:"datetime",disabled:"",format:t(l).settings.dateFormat},null,8,["value","format"])]),_:1}),a(y,{vertical:""},{default:n(()=>[(v(!0),A(U,null,P(u.value.clothes,(S,C)=>(v(),x(y,{align:"center"},{default:n(()=>[a(m,null,{default:n(()=>[a(D,{icon:["fas",c[C]]},null,8,["icon"])]),_:2},1024),a(w,null,{default:n(()=>[a(h,{disabled:"",value:u.value.clothes[C].type,"onUpdate:value":R=>u.value.clothes[C].type=R,placeholder:b(null,"type")},null,8,["value","onUpdate:value","placeholder"]),a(h,{disabled:"",value:u.value.clothes[C].color,"onUpdate:value":R=>u.value.clothes[C].color=R,placeholder:b(null,"color")},null,8,["value","onUpdate:value","placeholder"])]),_:2},1024)]),_:2},1024))),256))]),_:1}),a(y,null,{default:n(()=>[(v(!0),A(U,null,P(t(e).tabs[t(e).currentTab].warrant.stats.tags,S=>(v(),x(L,{bordered:!1,type:t(l).settings.warrants.tags[t(l).settings.warrants.tags.findIndex(C=>C.value===S)].type},{default:n(()=>[k(g(t(l).settings.warrants.tags[t(l).settings.warrants.tags.findIndex(C=>C.value===S)].label),1)]),_:2},1032,["type"]))),256))]),_:1})]),_:1})]),_:1})]),_:1},8,["onContextmenu"]),a(W,{placement:"bottom-start",trigger:"manual",x:p.xRef,y:p.yRef,options:p.dropdownOptions,show:p.showDropDown,"on-clickoutside":p.onClickoutside,onSelect:p.handleSelect},null,8,["x","y","options","show","on-clickoutside","onSelect"])])]),_:1},8,["show"])}}}),Te=Q(De,[["__scopeId","data-v-53115147"]]),ye=["src"],Ee={data(){return{timer2:null,showDropDown:O(!1),xRef:O(0),yRef:O(0),dropdownOptions:[{key:"save",label:l.locale.SAVE},{key:"delete",label:l.locale.DELETE},{key:"close",label:l.locale.CLOSE}]}},methods:{expireDate(){var r;return(r=I(e.tabs[e.currentTab].warrant.stats.date))==null?void 0:r.time},handleSelect(r){r==="save"?e.tabs[e.currentTab].warrant.save():r==="delete"?(e.tabs[e.currentTab].warrant.edit=!1,e.tabs[e.currentTab].warrant.delete()):r==="close"&&(e.tabs[e.currentTab].warrant.edit=!1),this.showDropDown=!1},handleContextMenu(r){r.preventDefault(),this.showDropDown=!1,B().then(()=>{this.showDropDown=!0,this.xRef=r.clientX,this.yRef=r.clientY})},onClickoutside(){this.showDropDown=!1}},mounted(){this.timer2=setInterval(()=>{this.expireDate},1e3)},beforeDestroy(){clearInterval(this.timer2)}},Ce=Object.assign(Ee,{__name:"EditWarrant",setup(r){const i=N(()=>e.tabs[e.currentTab]),u=N(()=>{var s,_;return((_=(s=i.value)==null?void 0:s.warrant)==null?void 0:_.stats)??{}}),b=(s,_)=>{const h=l.locale.BOLOS_WARRANTS.WARRANTS.CLOTHES[_.toUpperCase()];return h?h.replace("{value}",s??l.locale.PLACEHOLDER.UNKNOWN):l.locale.PLACEHOLDER.UNKNOWN},d=N(()=>{var s,_;return(_=I((s=u.value)==null?void 0:s.date))==null?void 0:_.time}),c={hat:"hat-cowboy",mask:"mask-face",jacket:"vest-patches",gloves:"mitten",pants:"carrot",shoes:"shoe-prints"},p=({option:s,handleClose:_})=>K(X,{type:s.type,closable:!0,bordered:!1,onMousedown:h=>{h.preventDefault()},onClose:h=>{h.stopPropagation(),_()}},{default:()=>s.label});return(s,_)=>{const h=o("n-divider"),f=o("n-input"),y=o("n-date-picker"),D=o("n-space"),m=o("font-awesome-icon"),w=o("n-icon"),L=o("n-input-group"),T=o("n-select"),W=o("n-card"),H=o("n-dropdown"),S=o("n-modal");return v(),x(S,{show:t(e).tabs[t(e).currentTab].warrant.edit,"onUpdate:show":_[3]||(_[3]=C=>t(e).tabs[t(e).currentTab].warrant.edit=C),"transform-origin":"center"},{default:n(()=>[E("div",null,[a(W,{style:{width:"auto","max-width":"800px",height:"auto"},bordered:!1,size:"small",role:"dialog","aria-modal":"true",onContextmenu:s.handleContextMenu},{cover:n(()=>[E("img",{style:{"max-height":"250px","object-fit":"cover"},src:u.value.image?u.value.image:t(l).settings.warrants.no_image},null,8,ye)]),footer:n(()=>[a(D,{justify:"space-between"},{default:n(()=>[E("p",null,g(t(l).locale.CREATED_BY.replace("{user}",t(e).tabs[t(e).currentTab].warrant.stats.author)),1),a(D,{size:"small"},{default:n(()=>[E("p",null,g(t(l).locale.EXPIRES.replace("{date}",d.value)),1)]),_:1})]),_:1})]),default:n(()=>[a(h,null,{default:n(()=>[k(" #"+g(u.value.id)+" - "+g(t(l).locale.STATEID.replace("{identifier}",u.value.identifier??t(l).locale.PLACEHOLDER.UNKNOWN)),1)]),_:1}),a(D,{vertical:""},{default:n(()=>[a(f,{type:"textarea",value:u.value.reason,"onUpdate:value":_[0]||(_[0]=C=>u.value.reason=C),autosize:{minRows:5,maxRows:10}},null,8,["value"]),a(D,{vertical:""},{default:n(()=>[a(D,{size:"small"},{default:n(()=>[a(f,{value:t(M)(t(e).tabs[t(e).currentTab].warrant.stats.creationDate),disabled:""},null,8,["value"]),a(y,{value:t(e).tabs[t(e).currentTab].warrant.stats.date,"onUpdate:value":_[1]||(_[1]=C=>t(e).tabs[t(e).currentTab].warrant.stats.date=C),type:"datetime",format:t(l).settings.dateFormat},null,8,["value","format"])]),_:1}),a(D,{vertical:""},{default:n(()=>[(v(!0),A(U,null,P(u.value.clothes,(C,R)=>(v(),x(D,{align:"center"},{default:n(()=>[a(w,null,{default:n(()=>[a(m,{icon:["fas",c[R]]},null,8,["icon"])]),_:2},1024),a(L,null,{default:n(()=>[a(f,{value:u.value.clothes[R].type,"onUpdate:value":$=>u.value.clothes[R].type=$,placeholder:b(null,"type")},null,8,["value","onUpdate:value","placeholder"]),a(f,{value:u.value.clothes[R].color,"onUpdate:value":$=>u.value.clothes[R].color=$,placeholder:b(null,"color")},null,8,["value","onUpdate:value","placeholder"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),a(T,{options:t(l).settings.warrants.tags,"render-tag":p,multiple:"",value:t(e).tabs[t(e).currentTab].warrant.stats.tags,"onUpdate:value":_[2]||(_[2]=C=>t(e).tabs[t(e).currentTab].warrant.stats.tags=C)},null,8,["options","value"])]),_:1})]),_:1},8,["onContextmenu"]),a(H,{placement:"bottom-start",trigger:"manual",x:s.xRef,y:s.yRef,options:s.dropdownOptions,show:s.showDropDown,"on-clickoutside":s.onClickoutside,onSelect:s.handleSelect},null,8,["x","y","options","show","on-clickoutside","onSelect"])])]),_:1},8,["show"])}}}),Re={__name:"Warrants",setup(r){let i=O([]);return ee(()=>{const u=e.tabs[e.currentTab].warrant.search.toLowerCase();i.value=e.tabs[e.currentTab].warrant.warrants.filter(b=>(b.identifier??j.PLACEHOLDER.UNKNOWN).toLowerCase().includes(u)||(b.fullname??j.PLACEHOLDER.UNKNOWN).toLowerCase().includes(u))}),(u,b)=>{const d=o("font-awesome-icon"),c=o("n-icon"),p=o("n-button"),s=o("n-input"),_=o("n-space"),h=o("n-divider"),f=o("n-gi"),y=o("n-grid"),D=o("n-scrollbar");return v(),A(U,null,[a(_,{justify:"space-between"},{default:n(()=>[E("h3",null,g(t(j).BOLOS_WARRANTS.WARRANTS.LABEL),1),a(_,{align:"center"},{default:n(()=>[t(F)(501)?(v(),x(p,{key:0,onClick:b[0]||(b[0]=m=>t(e).tabs[t(e).currentTab].warrant.add=!0),tertiary:"",circle:"",size:"small"},{icon:n(()=>[a(c,null,{default:n(()=>[a(d,{icon:["fas","plus"]})]),_:1})]),_:1})):z("",!0),a(s,{value:t(e).tabs[t(e).currentTab].warrant.search,"onUpdate:value":b[1]||(b[1]=m=>t(e).tabs[t(e).currentTab].warrant.search=m),placeholder:t(j).PLACEHOLDER.SEARCH},{prefix:n(()=>[a(c,null,{default:n(()=>[a(d,{icon:["fas","magnifying-glass"]})]),_:1})]),_:1},8,["value","placeholder"])]),_:1})]),_:1}),a(h),a(D,{class:"scrollbar-input_data"},{default:n(()=>[a(y,{cols:"3","x-gap":"10","y-gap":"10"},{default:n(()=>[(v(!0),A(U,null,P(t(i),m=>(v(),x(f,null,{default:n(()=>[a(fe,{id:m.id,identifier:m.identifier,fullname:m.fullname,image:m.image,creationDate:m.creationDate,date:m.date,clothes:m.clothes,reason:m.reason,tags:m.tags,author:m.author},null,8,["id","identifier","fullname","image","creationDate","date","clothes","reason","tags","author"])]),_:2},1024))),256))]),_:1})]),_:1}),a(ge),a(Te),a(Ce)],64)}}},Le={__name:"index",setup(r){return(i,u)=>{const b=o("n-gi"),d=o("n-grid");return v(),x(d,{"x-gap":"10",cols:"2"},{default:n(()=>[a(b,{class:"box"},{default:n(()=>[a(_e)]),_:1}),a(b,{class:"box"},{default:n(()=>[a(Re)]),_:1})]),_:1})}}};export{Le as default};
