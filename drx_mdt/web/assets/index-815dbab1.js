import{ab as f,Z as h,r as u,c as m,s as r,G as n,R as i,p as c,ac as v,ad as E,ae as k,af as A,b as y,k as L,m as C,ag as _,ah as x,ai as N,aj as T,ak as g,d as D}from"./index-243f2949.js";const R={class:"box"},S={__name:"index",setup(O){const d=f({results:[]});h(()=>{d.results=n.tabs[n.currentTab].roster.results.map(l=>{const e=r.settings.staff.departments.find(t=>t.value===l.department),a=r.settings.staff.departments.find(t=>t.value===l.department).ranks.find(t=>t.value===l.rank),s=u({identifier:l.identifier,fullname:l.fullname,alias:l.alias,department:e==null?void 0:e.label,rank:a==null?void 0:a.label});return n.tabs[n.currentTab].roster.tables.forEach(t=>{s.value[t.label]=l.data[t.column]}),s.value})});const p=l=>{switch(l){case"checkbox":return 200;case"input-number":case"select":return 200;case"input":case"input-textarea":return 200;default:return 200}},o=u(0),b=m(()=>{o.value=0,o.value+=150*5;const l=u([{title:r.locale.PLACEHOLDER.STATEID,key:"identifier",width:150,minWidth:50,ellipsis:{tooltip:!0},resizable:!0,fixed:"left",sorter:(e,a)=>e.identifier-a.identifier},{title:r.locale.PLACEHOLDER.FULLNAME,key:"fullname",width:150,minWidth:50,ellipsis:{tooltip:!0},resizable:!0,sorter:(e,a)=>e.name.localeCompare(a.name)},{title:r.locale.PLACEHOLDER.ALIAS,key:"alias",width:150,minWidth:50,ellipsis:{tooltip:!0},resizable:!0,sorter:(e,a)=>e.alias.localeCompare(a.alias)},{title:r.locale.PLACEHOLDER.DEPARTMENT,key:"department",width:150,minWidth:50,ellipsis:{tooltip:!0},resizable:!0,sorter:(e,a)=>e.alias.localeCompare(a.alias)},{title:r.locale.PLACEHOLDER.RANK,key:"rank",width:150,minWidth:50,ellipsis:{tooltip:!0},resizable:!0,sorter:(e,a)=>e.alias.localeCompare(a.alias)}]);return n.tabs[n.currentTab].roster.tables.forEach(e=>{const a=p(e.type);o.value+=a,l.value.push({title:e.label,key:e.label,width:a,minWidth:50,resizable:!0,ellipsis:{tooltip:!0},render(s){switch(e.type){case"checkbox":return i(A,{checked:s[e.label],"onUpdate:checked":t=>{s[e.label]=t},disabled:!c(1103)});case"input-number":return i(k,{value:s[e.label],"onUpdate:value":t=>{s[e.label]=t},disabled:!c(1103)});case"input":case"input-textarea":return i(E,{value:s[e.label],"onUpdate:value":t=>{s[e.label]=t},disabled:!c(1103)});case"select":return i(v,{value:s[e.label],options:e.options,"onUpdate:value":t=>{s[e.label]=t},disabled:!c(1103)});default:return i("div",{},"Invalid type")}}})}),c(1103)&&(o.value+=100,l.value.push({title:r.locale.PLACEHOLDER.ACTIONS,key:"actions",width:100,fixed:"right",render:e=>i(g,{align:"center",justify:"space-around"},()=>[i(_,{},{trigger:()=>i(x,{type:"primary",tertiary:!0,onClick:()=>{const a={};n.tabs[n.currentTab].roster.tables.forEach(s=>{a[s.column]=e[s.label]}),N("update","roster",e.identifier,a)}},{default:()=>i(T,{icon:["fas","floppy-disk"]})}),default:()=>r.locale.UPDATE})])})),l.value});return(l,e)=>{const a=y("n-data-table");return D(),L("div",R,[C(a,{class:"staff-tables",columns:b.value,data:d.results,pagination:{pageSize:20},"scroll-x":o.value+200},null,8,["columns","data","scroll-x"])])}}};export{S as default};
