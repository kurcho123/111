import{b as c,d as m,e as U,w as e,h as B,t as u,u as n,s as l,m as t,G as r,c as k,A as G,f as d,k as T,F as S,n as z,ao as K,M as $,y as q,r as O,C as F,v as I}from"./index-243f2949.js";const D={__name:"Top",props:{settingsKey:String,tableName:String},setup(C){return(a,_)=>{const f=c("font-awesome-icon"),w=c("n-icon"),p=c("n-input"),s=c("n-space");return m(),U(s,{justify:"space-between"},{default:e(()=>[B("h3",null,u(n(l).locale.CONFIGURATIONS.CHARGES[C.settingsKey.toUpperCase()].LABEL),1),t(p,{value:n(r).tabs[n(r).currentTab][C.tableName].search,"onUpdate:value":_[0]||(_[0]=b=>n(r).tabs[n(r).currentTab][C.tableName].search=b),placeholder:n(l).locale.PLACEHOLDER.SEARCH,clearable:""},{prefix:e(()=>[t(w,null,{default:e(()=>[t(f,{icon:["fas","magnifying-glass"]})]),_:1})]),_:1},8,["value","placeholder"])]),_:1})}}},j={__name:"Create",props:{settingsKey:String,tableName:String,fields:Array,templates:Array},setup(C){const a=C,_=k(()=>r.tabs[r.currentTab][a.tableName]);function f(){Object.keys(_.value.new).forEach(p=>{_.value.new[p]=null})}const w=k(()=>a.fields.some(p=>{const s=_.value.new[p];return typeof s=="number"?!1:!s}));return(p,s)=>{const b=c("n-gi"),E=c("n-grid"),N=c("n-button"),L=c("n-space"),i=c("n-card");return m(),U(i,{size:"small",title:n(l).locale.CREATE},{action:e(()=>[t(L,{justify:"right"},{default:e(()=>[t(N,{type:"success",tertiary:"",onClick:s[0]||(s[0]=o=>n(G)({type:C.tableName,data:_.value.new})),disabled:w.value},{default:e(()=>[d(u(n(l).locale.CREATE),1)]),_:1},8,["disabled"]),t(N,{type:"warning",tertiary:"",onClick:s[1]||(s[1]=o=>f())},{default:e(()=>[d(u(n(l).locale.CLEAR),1)]),_:1})]),_:1})]),default:e(()=>[t(E,{cols:"3","x-gap":"10","y-gap":"10"},{default:e(()=>[(m(!0),T(S,null,z(C.templates,o=>(m(),U(b,{key:o.model},{default:e(()=>[(m(),U(K(o.component),{value:_.value.new[o.model],"onUpdate:value":A=>_.value.new[o.model]=A,placeholder:n(l).locale.PLACEHOLDER[o.model.toUpperCase()],options:o.options||null,modes:["rgb"],swatches:n(l).settings.configurations.categories.swatches,"show-alpha":!1,min:0,clearable:""},null,40,["value","onUpdate:value","placeholder","options","swatches"]))]),_:2},1024))),128))]),_:1})]),_:1},8,["title"])}}},J={key:0},Q={key:1},W={key:2},H={__name:"List",props:{settingsKey:String,tableName:String,fields:Array},setup(C){const a=C,_=k(()=>r.tabs[r.currentTab][a.tableName]),f=k(()=>{const s=_.value.search.trim().toLowerCase();return s===""?_.value.results:_.value.results.filter(b=>s===""||b.label.toLowerCase().includes(s)||b.description.toLowerCase().includes(s))}),w=s=>r.tabs[r.currentTab].categories.results.find(E=>E.id===s).color;function p(s){a.tableName==="charges"?(r.tabs[r.currentTab].charges.stats=s,r.tabs[r.currentTab].charges.edit=!0):a.tableName==="categories"&&(r.tabs[r.currentTab].categories.stats=s,r.tabs[r.currentTab].categories.edit=!0)}return(s,b)=>{const E=c("n-tag"),N=c("n-space"),L=c("n-button"),i=c("n-card"),o=c("n-gi"),A=c("n-grid"),P=c("n-scrollbar");return m(),U(P,{class:q(C.tableName==="charges"?"scrollbar-charges":"scrollbar-categories")},{default:e(()=>[t(A,{cols:C.tableName==="charges"?2:1,"x-gap":"10","y-gap":"10"},{default:e(()=>[(m(!0),T(S,null,z(f.value,(y,x)=>(m(),U(o,{key:x},{default:e(()=>[t(i,{title:y[a.fields[0]],size:"small"},{"header-extra":e(()=>[d("#"+u(y.id),1)]),action:e(()=>[t(N,{justify:"right"},{default:e(()=>[t(L,{tertiary:"",onClick:h=>p(y)},{default:e(()=>[d(u(n(l).locale.EDIT),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:e(()=>[t(N,{vertical:"",size:"small"},{default:e(()=>[(m(!0),T(S,null,z(a.fields.slice(1),(h,R)=>(m(),T("p",{key:R},[n(l).locale[h.toUpperCase()]?(m(),T("span",J,u(n(l).locale[h.toUpperCase()].replace("{"+h+"}",y[h])),1)):h==="color"?(m(),T("span",Q,[t(E,{bordered:!1,size:"small",style:$({background:y[h]})},{default:e(()=>[d(u(y[h]),1)]),_:2},1032,["style"])])):(m(),T("span",W,[t(E,{bordered:!1,size:"small",style:$({background:w(y[h])})},{default:e(()=>[d(" #"+u(y[h]),1)]),_:2},1032,["style"])]))]))),128))]),_:2},1024)]),_:2},1032,["title"])]),_:2},1024))),128))]),_:1},8,["cols"])]),_:1},8,["class"])}}},X={__name:"EditCharge",setup(C){const a=k(()=>r.tabs[r.currentTab].charges),_=k(()=>{const i=O([]);return r.tabs[r.currentTab].categories.results.map(o=>{i.value.push({id:o.id,value:o.id,label:o.label,description:o.description,color:o.color})}),i.value}),f=["label","description","fine","jail","points","category"],w=[{model:"label",component:"n-input"},{model:"description",component:"n-input"},{model:"fine",component:"n-input-number"},{model:"jail",component:"n-input-number"},{model:"points",component:"n-input-number"},{model:"category",component:"n-select",options:_.value}],p=k(()=>f.some(i=>{const o=a.value.stats[i];return typeof o=="number"?!1:!o})),s=O(!1),b=O(!1);function E(){F({type:"charges",data:a.value.stats}),s.value=!1,a.value.edit=!1,l.loading=!0}function N(){I({type:"charges",id:a.value.stats.id}),b.value=!1,a.value.edit=!1,l.loading=!0}function L(){s.value=!1,b.value=!1}return(i,o)=>{const A=c("n-gi"),P=c("n-grid"),y=c("n-button"),x=c("n-popconfirm"),h=c("n-space"),R=c("n-card"),v=c("n-modal");return m(),U(v,{show:n(r).tabs[n(r).currentTab].charges.edit,"onUpdate:show":o[6]||(o[6]=g=>n(r).tabs[n(r).currentTab].charges.edit=g),"transform-origin":"center"},{default:e(()=>[t(R,{style:{width:"850px",height:"auto"},bordered:!1,size:"small",role:"dialog","aria-modal":"true"},{action:e(()=>[t(h,{justify:"right"},{default:e(()=>[t(x,{show:s.value,"onUpdate:show":o[2]||(o[2]=g=>s.value=g),"show-icon":!1},{trigger:e(()=>[t(y,{tertiary:"",disabled:p.value},{default:e(()=>[d(u(n(l).locale.SAVE),1)]),_:1},8,["disabled"])]),action:e(()=>[t(y,{size:"small",tertiary:"",type:"success",onClick:o[0]||(o[0]=g=>E())},{default:e(()=>[d(u(n(l).locale.POPUP.CONFIRM),1)]),_:1}),t(y,{size:"small",tertiary:"",type:"error",onClick:o[1]||(o[1]=g=>L())},{default:e(()=>[d(u(n(l).locale.POPUP.CANCEL),1)]),_:1})]),default:e(()=>[d(" "+u(n(l).locale.POPUP.SAVE.replace("{label}",a.value.stats.label)),1)]),_:1},8,["show"]),t(x,{show:b.value,"onUpdate:show":o[5]||(o[5]=g=>b.value=g),"show-icon":!1},{trigger:e(()=>[t(y,{tertiary:"",type:"error"},{default:e(()=>[d(u(n(l).locale.DELETE),1)]),_:1})]),action:e(()=>[t(y,{size:"small",tertiary:"",type:"success",onClick:o[3]||(o[3]=g=>N())},{default:e(()=>[d(u(n(l).locale.POPUP.CONFIRM),1)]),_:1}),t(y,{size:"small",tertiary:"",type:"error",onClick:o[4]||(o[4]=g=>L())},{default:e(()=>[d(u(n(l).locale.POPUP.CANCEL),1)]),_:1})]),default:e(()=>[d(" "+u(n(l).locale.POPUP.DELETE.replace("{label}",a.value.stats.label)),1)]),_:1},8,["show"])]),_:1})]),default:e(()=>[t(P,{cols:"3","x-gap":"10","y-gap":"10"},{default:e(()=>[(m(),T(S,null,z(w,g=>t(A,{key:g.model},{default:e(()=>[d(u(n(l).locale.PLACEHOLDER[g.model.toUpperCase()])+" ",1),(m(),U(K(g.component),{value:a.value.stats[g.model],"onUpdate:value":M=>a.value.stats[g.model]=M,placeholder:n(l).locale.PLACEHOLDER[g.model.toUpperCase()],options:g.options||null,min:0,clearable:""},null,40,["value","onUpdate:value","placeholder","options"]))]),_:2},1024)),64))]),_:1})]),_:1})]),_:1},8,["show"])}}},V="categories",Y={__name:"EditCategory",setup(C){const a=k(()=>r.tabs[r.currentTab].categories),_=["label","description","color"],f=[{model:"label",component:"n-input"},{model:"description",component:"n-input"},{model:"color",component:"n-color-picker"}],w=k(()=>_.some(L=>{const i=a.value.stats[L];return typeof i=="number"?!1:!i})),p=O(!1),s=O(!1);function b(){F({type:V,data:a.value.stats}),p.value=!1,a.value.edit=!1,l.loading=!0}function E(){I({type:V,id:a.value.stats.id}),s.value=!1,a.value.edit=!1,l.loading=!0}function N(){p.value=!1,s.value=!1}return(L,i)=>{const o=c("n-gi"),A=c("n-grid"),P=c("n-button"),y=c("n-popconfirm"),x=c("n-space"),h=c("n-card"),R=c("n-modal");return m(),U(R,{show:n(r).tabs[n(r).currentTab].categories.edit,"onUpdate:show":i[6]||(i[6]=v=>n(r).tabs[n(r).currentTab].categories.edit=v),"transform-origin":"center"},{default:e(()=>[t(h,{style:{width:"850px",height:"auto"},bordered:!1,size:"small",role:"dialog","aria-modal":"true"},{action:e(()=>[t(x,{justify:"right"},{default:e(()=>[t(y,{show:p.value,"onUpdate:show":i[2]||(i[2]=v=>p.value=v),"show-icon":!1},{trigger:e(()=>[t(P,{tertiary:"",disabled:w.value},{default:e(()=>[d(u(n(l).locale.SAVE),1)]),_:1},8,["disabled"])]),action:e(()=>[t(P,{size:"small",tertiary:"",type:"success",onClick:i[0]||(i[0]=v=>b())},{default:e(()=>[d(u(n(l).locale.CONFIRM),1)]),_:1}),t(P,{size:"small",tertiary:"",type:"error",onClick:i[1]||(i[1]=v=>N())},{default:e(()=>[d(u(n(l).locale.CANCEL),1)]),_:1})]),default:e(()=>[d(" "+u(n(l).locale.POPUP.SAVE.replace("{label}",a.value.stats.label)),1)]),_:1},8,["show"]),t(y,{show:s.value,"onUpdate:show":i[5]||(i[5]=v=>s.value=v),"show-icon":!1},{trigger:e(()=>[t(P,{tertiary:"",type:"error"},{default:e(()=>[d(u(n(l).locale.DELETE),1)]),_:1})]),action:e(()=>[t(P,{size:"small",tertiary:"",type:"success",onClick:i[3]||(i[3]=v=>E())},{default:e(()=>[d(u(n(l).locale.CONFIRM),1)]),_:1}),t(P,{size:"small",tertiary:"",type:"error",onClick:i[4]||(i[4]=v=>N())},{default:e(()=>[d(u(n(l).locale.CANCEL),1)]),_:1})]),default:e(()=>[d(" "+u(n(l).locale.POPUP.DELETE.replace("{label}",a.value.stats.label)),1)]),_:1},8,["show"])]),_:1})]),default:e(()=>[t(A,{cols:"3","x-gap":"10","y-gap":"10"},{default:e(()=>[(m(),T(S,null,z(f,v=>t(o,{key:v.model},{default:e(()=>[d(u(n(l).locale.PLACEHOLDER[v.model.toUpperCase()])+" ",1),(m(),U(K(v.component),{value:a.value.stats[v.model],"onUpdate:value":g=>a.value.stats[v.model]=g,placeholder:n(l).locale.PLACEHOLDER[v.model.toUpperCase()],modes:["rgb"],swatches:n(l).settings.configurations.categories.swatches,"show-alpha":!1,min:0,clearable:""},null,40,["value","onUpdate:value","placeholder","swatches"]))]),_:2},1024)),64))]),_:1})]),_:1})]),_:1},8,["show"])}}},ee={__name:"index",setup(C){const a={tableName:"categories",settingsKey:"categories",fields:["label","description","color"],templates:[{model:"label",component:"n-input"},{model:"description",component:"n-input"},{model:"color",component:"n-color-picker"}]},_=k(()=>{const w=O([]);return r.tabs[r.currentTab].categories.results.map(p=>{w.value.push({id:p.id,value:p.id,label:p.label,description:p.description,color:p.color})}),w.value}),f={tableName:"charges",settingsKey:"charges",fields:["label","description","fine","jail","points","category"],templates:[{model:"label",component:"n-input"},{model:"description",component:"n-input"},{model:"fine",component:"n-input-number"},{model:"jail",component:"n-input-number"},{model:"points",component:"n-input-number"},{model:"category",component:"n-select",options:_.value}]};return(w,p)=>{const s=c("n-divider"),b=c("n-gi"),E=c("n-grid");return m(),T("div",null,[t(E,{"x-gap":"10",cols:"3","item-responsive":""},{default:e(()=>[t(b,{class:"config-box"},{default:e(()=>[t(D,{settingsKey:a.settingsKey,tableName:a.tableName},null,8,["settingsKey","tableName"]),t(s),t(j,{settingsKey:a.settingsKey,tableName:a.tableName,fields:a.fields,templates:a.templates},null,8,["settingsKey","tableName","fields","templates"]),t(s),t(H,{settingsKey:a.settingsKey,tableName:a.tableName,fields:a.fields},null,8,["settingsKey","tableName","fields"])]),_:1}),t(b,{class:"config-box",span:"0 400:1 600:2"},{default:e(()=>[t(D,{settingsKey:f.settingsKey,tableName:f.tableName},null,8,["settingsKey","tableName"]),t(s),t(j,{settingsKey:f.settingsKey,tableName:f.tableName,fields:f.fields,templates:f.templates},null,8,["settingsKey","tableName","fields","templates"]),t(s),t(H,{settingsKey:f.settingsKey,tableName:f.tableName,fields:f.fields},null,8,["settingsKey","tableName","fields"])]),_:1})]),_:1}),t(X),t(Y)])}}};export{ee as default};
